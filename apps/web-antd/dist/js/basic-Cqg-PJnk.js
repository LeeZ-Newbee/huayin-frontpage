var W=Object.defineProperty;var y=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var g=(r,e,a)=>e in r?W(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,p=(r,e)=>{for(var a in e||(e={}))L.call(e,a)&&g(r,a,e[a]);if(y)for(var a of y(e))S.call(e,a)&&g(r,a,e[a]);return r};var l=(r,e,a)=>new Promise((n,o)=>{var c=t=>{try{u(a.next(t))}catch(s){o(s)}},d=t=>{try{u(a.throw(t))}catch(s){o(s)}},u=t=>t.done?n(t.value):Promise.resolve(t.value).then(c,d);u((a=a.apply(r,e)).next())});import{b as A}from"./use-modal-CqQluUHm.js";import{aR as B,bR as I,b6 as M,c3 as O,aS as w,bA as T,aX as V,aW as x}from"./bootstrap-BYMVwl9-.js";import{P as f,ax as $,am as C,n as N,a0 as U,a4 as E,J as h,bT as _,a1 as b,Y as H,aa as P,ab as G,ac as j,x as q,a7 as k}from"../jse/index-index-BuhP3T1S.js";import{_ as D,a as z}from"./layout.vue_vue_type_script_setup_true_lang-D5nabBJs.js";import"./index-ClXbwVrE.js";import"./x-DJz92f4i.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-Dfv4kXk9.js";import"./avatar.vue_vue_type_script_setup_true_lang-JOuzBu99.js";import"./TabsList.vue_vue_type_script_setup_true_lang-CRwITzcl.js";import"./check-button-group-D8gdqq6s.js";import"./circle-check-big-DafNGcJI.js";import"./rotate-cw-B-21Lhjf.js";const J=B("book-open-text",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]),i=f(),R=f(!1),v=f({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function X(){function r(n){return l(this,null,function*(){var c;const{Watermark:o}=yield U(()=>l(null,null,function*(){const{Watermark:d}=yield import("./index.esm-Ofvdfudw.js");return{Watermark:d}}),[]);v.value=p(p({},v.value),n),i.value=new o(v.value),yield(c=i.value)==null?void 0:c.create()})}function e(n){return l(this,null,function*(){var o;i.value?(yield N(),yield(o=i.value)==null?void 0:o.changeOptions(p(p({},v.value),n))):yield r(n)})}function a(){i.value&&(i.value.destroy(),i.value=void 0)}return R.value||(R.value=!0,$(()=>{a()})),{destroyWatermark:a,updateWatermark:e,watermark:C(i)}}const ca=E({__name:"basic",setup(r){const e=f([{avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3小时前",isRead:!0,message:"描述信息描述信息描述信息",title:"收到了 14 份新周报"},{avatar:"https://avatar.vercel.sh/1",date:"刚刚",isRead:!1,message:"描述信息描述信息描述信息",title:"朱偏右 回复了你"},{avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"描述信息描述信息描述信息",title:"曲丽丽 评论了你"},{avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"代办提醒"}]),a=I(),n=M();O();const{destroyWatermark:o,updateWatermark:c}=X();h(()=>e.value.some(t=>!t.isRead)),h(()=>[{handler:()=>{_(V,{target:"_blank"})},icon:J,text:w("ui.widgets.document")},{handler:()=>{_(x,{target:"_blank"})},icon:A,text:"GitHub"},{handler:()=>{_(`${x}/issues`,{target:"_blank"})},icon:T,text:w("ui.widgets.qa")}]);const d=h(()=>{var t,s;return(s=(t=a.userInfo)==null?void 0:t.avatar)!=null?s:b.app.defaultAvatar});function u(){return l(this,null,function*(){yield n.logout(!1)})}return H(()=>b.app.watermark,t=>l(null,null,function*(){var s,m;t?yield c({content:`${(s=a.userInfo)==null?void 0:s.username} - ${(m=a.userInfo)==null?void 0:m.realName}`}):o()}),{immediate:!0}),(t,s)=>(G(),P(k(z),{onClearPreferencesAndLogout:u},{"user-dropdown":j(()=>{var m;return[q(k(D),{avatar:d.value,text:(m=k(a).userInfo)==null?void 0:m.realName,onLogout:u},null,8,["avatar","text"])]}),_:1}))}});export{ca as default};
