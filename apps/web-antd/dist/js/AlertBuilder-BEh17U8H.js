var ae=Object.defineProperty,oe=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var K=(e,a,t)=>a in e?ae(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,k=(e,a)=>{for(var t in a||(a={}))U.call(a,t)&&K(e,t,a[t]);if(D)for(var t of D(a))X.call(a,t)&&K(e,t,a[t]);return e},P=(e,a)=>oe(e,ne(a));var I=(e,a)=>{var t={};for(var n in e)U.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&D)for(var n of D(e))a.indexOf(n)<0&&X.call(e,n)&&(t[n]=e[n]);return t};var H=(e,a,t)=>new Promise((n,r)=>{var u=m=>{try{d(t.next(m))}catch(l){r(l)}},c=m=>{try{d(t.throw(m))}catch(l){r(l)}},d=m=>m.done?n(m.value):Promise.resolve(m.value).then(u,c);d((t=t.apply(e,a)).next())});import{aR as se,b7 as Z,bq as le,br as re,bs as ce,b9 as de,bt as ie,a2 as ue,bu as pe,bc as ee,bv as fe,bw as me,bx as ve,bg as te,bf as ye,by as ge,bz as be,bA as Ce,aU as V,aV as J,bm as he,bB as W}from"./bootstrap-BYMVwl9-.js";import{a4 as g,aa as f,ab as p,a7 as o,af as j,ag as L,ac as i,a8 as _,av as _e,J as M,P as O,x as y,aq as $,aw as Be,ad as q,aW as x,a_ as G,a$ as ke,k as A,aV as R,aB as w,ah as E,aj as N,ai as Q,n as we,a as $e}from"../jse/index-index-BuhP3T1S.js";import{C as Ae}from"./circle-check-big-DafNGcJI.js";import{X as xe}from"./x-DJz92f4i.js";const ze=se("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),De=g({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(e,{emit:a}){const r=Z(e,a);return(u,c)=>(p(),f(o(le),j(L(o(r))),{default:i(()=>[_(u.$slots,"default")]),_:3},16))}}),Pe=g({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{}},setup(e){const a=e;return(t,n)=>(p(),f(o(re),j(L(a)),{default:i(()=>[_(t.$slots,"default")]),_:3},16))}}),Y=g({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{}},setup(e){const a=e;return(t,n)=>(p(),f(o(ce),j(L(a)),{default:i(()=>[_(t.$slots,"default")]),_:3},16))}}),Ie={class:"bg-overlay z-popup inset-0"},Oe=g({__name:"AlertDialogOverlay",setup(e){return de(),(a,t)=>(p(),_e("div",Ie))}}),Me=g({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},centered:{type:Boolean},class:{},modal:{type:Boolean,default:!0},open:{type:Boolean},overlayBlur:{},zIndex:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","close","closed","opened"],setup(e,{expose:a,emit:t}){const n=e,r=t,u=M(()=>{const b=n,{class:l,modal:v,open:B}=b;return I(b,["class","modal","open"])}),c=Z(u,r),d=O(null);function m(l){var v;l.target===((v=d.value)==null?void 0:v.$el)&&(n.open?r("opened"):r("closed"))}return a({getContentRef:()=>d.value}),(l,v)=>(p(),f(o(ie),null,{default:i(()=>[y(ue,{name:"fade",appear:""},{default:i(()=>[l.open&&l.modal?(p(),f(Oe,{key:0,style:Be(P(k({},l.zIndex?{zIndex:l.zIndex}:{}),{position:"fixed",backdropFilter:l.overlayBlur&&l.overlayBlur>0?`blur(${l.overlayBlur}px)`:"none"})),onClick:v[0]||(v[0]=()=>r("close"))},null,8,["style"])):$("",!0)]),_:1}),y(o(pe),q({ref_key:"contentRef",ref:d,style:P(k({},l.zIndex?{zIndex:l.zIndex}:{}),{position:"fixed"}),onAnimationend:m},o(c),{class:o(x)("z-popup bg-background p-6 shadow-lg outline-none sm:rounded-xl","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95",{"data-[state=open]:slide-in-from-top-[48%] data-[state=closed]:slide-out-to-top-[48%]":!l.centered,"data-[state=open]:slide-in-from-top-[98%] data-[state=closed]:slide-out-to-top-[148%]":l.centered,"top-[10vh]":!l.centered,"top-1/2 -translate-y-1/2":l.centered},n.class)}),{default:i(()=>[_(l.$slots,"default")]),_:3},16,["style","class"])]),_:3}))}}),Se=g({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,t=M(()=>{const c=a,{class:r}=c;return I(c,["class"])}),n=ee(t);return(r,u)=>(p(),f(o(fe),q(o(n),{class:o(x)("text-muted-foreground text-sm",a.class)}),{default:i(()=>[_(r.$slots,"default")]),_:3},16,["class"]))}}),Te=g({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const a=e,t=M(()=>{const c=a,{class:r}=c;return I(c,["class"])}),n=ee(t);return(r,u)=>(p(),f(o(me),q(o(n),{class:o(x)("text-lg font-semibold leading-none tracking-tight",a.class)}),{default:i(()=>[_(r.$slots,"default")]),_:3},16,["class"]))}}),[Je,Ve]=ve("VbenAlertContext"),Re={class:"flex items-center"},Ee={class:"flex-auto"},Ne={class:"m-4 min-h-[30px]"},Fe=g({__name:"alert",props:G({beforeClose:{},bordered:{type:Boolean,default:!0},buttonAlign:{default:"end"},cancelText:{},centered:{type:Boolean,default:!0},confirmText:{},containerClass:{},content:{},contentClass:{},contentMasking:{type:Boolean},footer:{},icon:{},overlayBlur:{},showCancel:{type:Boolean},title:{}},{open:{type:Boolean,default:!1},openModifiers:{}}),emits:G(["closed","confirm","opened"],["update:open"]),setup(e,{emit:a}){const t=e,n=a,r=ke(e,"open"),{$t:u}=te(),c=ye.getComponents(),d=O(!1);function m(){n("closed",d.value),d.value=!1}function l(){d.value=!1}const v=M(()=>{var h;let s=null;if(t.icon){if(typeof t.icon=="string")switch(t.icon){case"error":{s=A(be,{style:{color:"hsl(var(--destructive))"}});break}case"info":{s=A(ze,{style:{color:"hsl(var(--info))"}});break}case"question":{s=Ce;break}case"success":{s=A(Ae,{style:{color:"hsl(var(--success))"}});break}case"warning":{s=A(ge,{style:{color:"hsl(var(--warning))"}});break}default:{s=null;break}}}else s=(h=t.icon)!=null?h:null;return s});function B(){S(),T(!1)}function z(){b(),T(!1)}Ve({doCancel:B,doConfirm:z});function b(){d.value=!0,n("confirm")}function S(){d.value=!1}const C=O(!1);function T(s){return H(this,null,function*(){if(yield we(),!s&&t.beforeClose){C.value=!0;try{(yield t.beforeClose({isConfirm:d.value}))!==!1&&(r.value=!1)}finally{C.value=!1}}else r.value=s})}return(s,h)=>(p(),f(o(De),{open:r.value,"onUpdate:open":T},{default:i(()=>[y(o(Me),{open:r.value,centered:s.centered,"overlay-blur":s.overlayBlur,onOpened:h[0]||(h[0]=Le=>n("opened")),onClosed:m,onEscapeKeyDown:l,class:R(o(x)(s.containerClass,"left-0 right-0 mx-auto flex max-h-[80%] flex-col p-0 duration-300 sm:w-[520px] sm:max-w-[80%] sm:rounded-[var(--radius)]",{"border-border border":s.bordered,"shadow-3xl":!s.bordered}))},{default:i(()=>[w("div",{class:R(o(x)("relative flex-1 overflow-y-auto p-3",s.contentClass))},[s.title?(p(),f(o(Te),{key:0},{default:i(()=>[w("div",Re,[(p(),f(E(v.value),{class:"mr-2"})),w("span",Ee,N(o(u)(s.title)),1),s.showCancel?(p(),f(o(Y),{key:0,"as-child":""},{default:i(()=>[y(o(V),{variant:"ghost",size:"icon",class:"rounded-full",disabled:C.value,onClick:S},{default:i(()=>[y(o(xe),{class:"text-muted-foreground size-4"})]),_:1},8,["disabled"])]),_:1})):$("",!0)])]),_:1})):$("",!0),y(o(Se),null,{default:i(()=>[w("div",Ne,[y(o(J),{content:s.content,"render-br":""},null,8,["content"])]),C.value&&s.contentMasking?(p(),f(o(he),{key:0,spinning:C.value},null,8,["spinning"])):$("",!0)]),_:1}),w("div",{class:R(["flex items-center justify-end gap-x-2",`justify-${s.buttonAlign}`])},[y(o(J),{content:s.footer},null,8,["content"]),s.showCancel?(p(),f(o(Y),{key:0,"as-child":""},{default:i(()=>[(p(),f(E(o(c).DefaultButton||o(V)),{disabled:C.value,variant:"ghost",onClick:S},{default:i(()=>[Q(N(s.cancelText||o(u)("cancel")),1)]),_:1},8,["disabled"]))]),_:1})):$("",!0),y(o(Pe),{"as-child":""},{default:i(()=>[(p(),f(E(o(c).PrimaryButton||o(V)),{loading:C.value,onClick:b},{default:i(()=>[Q(N(s.confirmText||o(u)("confirm")),1)]),_:1},8,["loading"]))]),_:1})],2)],2)]),_:1},8,["open","centered","overlay-blur","class"])]),_:1},8,["open"]))}}),F=O([]),{$t:je}=te();function We(e,a,t){return new Promise((n,r)=>{var v,B;const u=$e(e)?{content:e}:k({},e),c=document.createElement("div");document.body.append(c);const d={container:c,instance:null},m=P(k({onClosed:z=>{F.value=F.value.filter(b=>b!==d),W(null,c),c.parentNode&&c.remove(),z?n():r(new Error("dialog cancelled"))}},u),{open:!0,title:(v=u.title)!=null?v:je.value("prompt")}),l=A(Fe,m);W(l,c),d.instance=(B=l.component)==null?void 0:B.proxy,F.value.push(d)})}export{We as v};
