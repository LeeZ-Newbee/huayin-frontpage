var W=Object.defineProperty;var y=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var g=(r,e,a)=>e in r?W(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,p=(r,e)=>{for(var a in e||(e={}))L.call(e,a)&&g(r,a,e[a]);if(y)for(var a of y(e))S.call(e,a)&&g(r,a,e[a]);return r};var l=(r,e,a)=>new Promise((n,s)=>{var c=t=>{try{u(a.next(t))}catch(o){s(o)}},m=t=>{try{u(a.throw(t))}catch(o){s(o)}},u=t=>t.done?n(t.value):Promise.resolve(t.value).then(c,m);u((a=a.apply(r,e)).next())});import{b as B}from"./index-C13-hKH-.js";import{aR as I,bR as M,b6 as A,ch as O,aS as w,bn as T,aX as V,aW as x}from"./bootstrap-AhoI3cF7.js";import{P as f,ax as $,am as C,n as N,a0 as U,a4 as E,J as h,bT as _,a1 as b,Y as H,aa as P,ab as G,ac as j,x as q,a7 as k}from"../jse/index-index-BGFxaiNb.js";import{_ as D,a as z}from"./layout.vue_vue_type_script_setup_true_lang-Dw-lWf3M.js";import"./index-Qnj4pCcS.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-Xk0Gh8Tn.js";import"./avatar.vue_vue_type_script_setup_true_lang-DZE6yXzc.js";import"./use-modal-BnAkNa_Z.js";import"./x-BIg8l5y-.js";import"./TabsList.vue_vue_type_script_setup_true_lang-DYegWtts.js";import"./check-button-group-Ml5PobRt.js";import"./circle-check-big-BUGT68c9.js";import"./rotate-cw-C4pgsOmR.js";import"./use-refresh-W8rkfSXm.js";const J=I("book-open-text",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]),i=f(),R=f(!1),v=f({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function X(){function r(n){return l(this,null,function*(){var c;const{Watermark:s}=yield U(()=>l(null,null,function*(){const{Watermark:m}=yield import("./index.esm-Ofvdfudw.js");return{Watermark:m}}),[]);v.value=p(p({},v.value),n),i.value=new s(v.value),yield(c=i.value)==null?void 0:c.create()})}function e(n){return l(this,null,function*(){var s;i.value?(yield N(),yield(s=i.value)==null?void 0:s.changeOptions(p(p({},v.value),n))):yield r(n)})}function a(){i.value&&(i.value.destroy(),i.value=void 0)}return R.value||(R.value=!0,$(()=>{a()})),{destroyWatermark:a,updateWatermark:e,watermark:C(i)}}const la=E({__name:"basic",setup(r){const e=f([{avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3小时前",isRead:!0,message:"描述信息描述信息描述信息",title:"收到了 14 份新周报"},{avatar:"https://avatar.vercel.sh/1",date:"刚刚",isRead:!1,message:"描述信息描述信息描述信息",title:"朱偏右 回复了你"},{avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"描述信息描述信息描述信息",title:"曲丽丽 评论了你"},{avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"代办提醒"}]),a=M(),n=A();O();const{destroyWatermark:s,updateWatermark:c}=X();h(()=>e.value.some(t=>!t.isRead)),h(()=>[{handler:()=>{_(V,{target:"_blank"})},icon:J,text:w("ui.widgets.document")},{handler:()=>{_(x,{target:"_blank"})},icon:B,text:"GitHub"},{handler:()=>{_(`${x}/issues`,{target:"_blank"})},icon:T,text:w("ui.widgets.qa")}]);const m=h(()=>{var t,o;return(o=(t=a.userInfo)==null?void 0:t.avatar)!=null?o:b.app.defaultAvatar});function u(){return l(this,null,function*(){yield n.logout(!1)})}return H(()=>b.app.watermark,t=>l(null,null,function*(){var o,d;t?yield c({content:`${(o=a.userInfo)==null?void 0:o.username} - ${(d=a.userInfo)==null?void 0:d.realName}`}):s()}),{immediate:!0}),(t,o)=>(G(),P(k(z),{onClearPreferencesAndLogout:u},{"user-dropdown":j(()=>{var d;return[q(k(D),{avatar:m.value,text:(d=k(a).userInfo)==null?void 0:d.realName,onLogout:u},null,8,["avatar","text"])]}),_:1}))}});export{la as default};
