var F=Object.defineProperty,G=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var h=(t,l,e)=>l in t?F(t,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[l]=e,y=(t,l)=>{for(var e in l||(l={}))M.call(l,e)&&h(t,e,l[e]);if(b)for(var e of b(l))P.call(l,e)&&h(t,e,l[e]);return t},k=(t,l)=>G(t,L(l));var _=(t,l,e)=>new Promise((f,m)=>{var i=u=>{try{n(e.next(u))}catch(a){m(a)}},s=u=>{try{n(e.throw(u))}catch(a){m(a)}},n=u=>u.done?f(u.value):Promise.resolve(u.value).then(i,s);n((e=e.apply(t,l)).next())});import{aR as A,b0 as z,aU as N,bY as O,aV as S}from"./bootstrap-BYMVwl9-.js";import{a4 as x,av as v,ab as r,aw as Y,aV as j,a7 as d,aW as C,a8 as g,a_ as V,J as q,b4 as D,a$ as E,P as B,Y as $,aa as p,ac as w,F as J,aC as R,ad as U,aq as W,x as H,i as K}from"../jse/index-index-BuhP3T1S.js";import{C as Q}from"./circle-check-big-DafNGcJI.js";const T=A("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),X=x({name:"VbenButtonGroup",__name:"button-group",props:{border:{type:Boolean,default:!1},gap:{default:0},size:{default:"middle"}},setup(t){return(l,e)=>(r(),v("div",{class:j(d(C)("vben-button-group rounded-md",`size-${l.size}`,l.gap?"with-gap":"no-gap",l.$attrs.class)),style:Y({gap:l.gap?`${l.gap}px`:"0px"})},[g(l.$slots,"default",{},void 0,!0)],6))}}),Z=z(X,[["__scopeId","data-v-ba11c217"]]),ee={key:0,class:"icon-wrapper"},ae=x({__name:"check-button-group",props:V({allowClear:{type:Boolean,default:!1},beforeChange:{},btnClass:{},gap:{default:0},maxCount:{default:0},multiple:{type:Boolean,default:!1},options:{},showIcon:{type:Boolean,default:!0},size:{default:"middle"},disabled:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:V(["btnClick"],["update:modelValue"]),setup(t,{emit:l}){const e=t,f=l,m=q(()=>k(y({},D(e,["options","btnClass","size","disabled"])),{class:C(e.btnClass)})),i=E(t,"modelValue"),s=B([]),n=B([]);$(()=>e.multiple,a=>{a?i.value=s.value:i.value=s.value.length>0?s.value[0]:void 0}),$(()=>i.value,a=>{if(Array.isArray(a)){const c=a.filter(o=>o!==void 0);c.length>0?s.value=e.multiple?[...c]:[c[0]]:s.value=[]}else s.value=a===void 0?[]:[a]},{deep:!0,immediate:!0});function u(a){return _(this,null,function*(){if(e.beforeChange&&K(e.beforeChange))try{if(n.value.push(a),(yield e.beforeChange(a,!s.value.includes(a)))===!1)return}finally{n.value.splice(n.value.indexOf(a),1)}if(e.multiple)s.value.includes(a)?s.value=s.value.filter(c=>c!==a):(e.maxCount>0&&s.value.length>=e.maxCount&&(s.value=s.value.slice(0,e.maxCount-1)),s.value.push(a)),i.value=s.value;else if(e.allowClear&&s.value.includes(a)){s.value=[],i.value=void 0,f("btnClick",void 0);return}else s.value=[a],i.value=a;f("btnClick",a)})}return(a,c)=>(r(),p(Z,{size:e.size,gap:e.gap,class:"vben-check-button-group"},{default:w(()=>[(r(!0),v(J,null,R(e.options,(o,I)=>(r(),p(N,U({key:I,class:d(C)("border",e.btnClass),disabled:e.disabled||n.value.includes(o.value)||!e.multiple&&n.value.length>0},{ref_for:!0},m.value,{variant:s.value.includes(o.value)?"default":"outline",onClick:le=>u(o.value),type:"button"}),{default:w(()=>[e.showIcon?(r(),v("div",ee,[g(a.$slots,"icon",{loading:n.value.includes(o.value),checked:s.value.includes(o.value)},()=>[n.value.includes(o.value)?(r(),p(d(O),{key:0,class:"animate-spin"})):s.value.includes(o.value)?(r(),p(d(Q),{key:1})):(r(),p(d(T),{key:2}))],!0)])):W("",!0),g(a.$slots,"option",{label:o.label,value:o.value,data:o},()=>[H(d(S),{content:o.label},null,8,["content"])],!0)]),_:2},1040,["class","disabled","variant","onClick"]))),128))]),_:3},8,["size","gap"]))}}),ue=z(ae,[["__scopeId","data-v-9a0233de"]]);export{ue as V};
