var ne=Object.defineProperty,se=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var U=(e,t,o)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,h=(e,t)=>{for(var o in t||(t={}))X.call(t,o)&&U(e,o,t[o]);if(D)for(var o of D(t))H.call(t,o)&&U(e,o,t[o]);return e},P=(e,t)=>se(e,le(t));var O=(e,t)=>{var o={};for(var n in e)X.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&D)for(var n of D(e))t.indexOf(n)<0&&H.call(e,n)&&(o[n]=e[n]);return o};var J=(e,t,o)=>new Promise((n,r)=>{var i=m=>{try{d(o.next(m))}catch(l){r(l)}},c=m=>{try{d(o.throw(m))}catch(l){r(l)}},d=m=>m.done?n(m.value):Promise.resolve(m.value).then(i,c);d((o=o.apply(e,t)).next())});import{aR as re,b8 as te,b9 as ce,ba as ie,bb as de,bc as ue,bd as pe,a8 as fe,be as me,bf as oe,bg as ve,bh as ye,bi as be,bj as ae,bk as ge,bl as Ce,bm as he,bn as _e,aU as R,aV as W,bo as ke,bp as G}from"./bootstrap-AhoI3cF7.js";import{a4 as b,aa as f,ab as p,a7 as a,af as L,ag as q,ac as u,a8 as k,av as Be,J as S,P as M,x as y,aq as $,aw as we,ad as K,aW as x,a_ as Q,a$ as $e,k as A,aV as j,aB as w,ah as E,aj as N,ai as Y,n as Ae,a as I}from"../jse/index-index-BGFxaiNb.js";import{C as xe}from"./circle-check-big-BUGT68c9.js";import{X as ze}from"./x-BIg8l5y-.js";const De=re("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Pe=b({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(e,{emit:t}){const r=te(e,t);return(i,c)=>(p(),f(a(ce),L(q(a(r))),{default:u(()=>[k(i.$slots,"default")]),_:3},16))}}),Oe=b({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(o,n)=>(p(),f(a(ie),L(q(t)),{default:u(()=>[k(o.$slots,"default")]),_:3},16))}}),Z=b({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{}},setup(e){const t=e;return(o,n)=>(p(),f(a(de),L(q(t)),{default:u(()=>[k(o.$slots,"default")]),_:3},16))}}),Ie={class:"bg-overlay z-popup inset-0"},Me=b({__name:"AlertDialogOverlay",setup(e){return ue(),(t,o)=>(p(),Be("div",Ie))}}),Se=b({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},centered:{type:Boolean},class:{},modal:{type:Boolean,default:!0},open:{type:Boolean},overlayBlur:{},zIndex:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus","close","closed","opened"],setup(e,{expose:t,emit:o}){const n=e,r=o,i=S(()=>{const g=n,{class:l,modal:v,open:B}=g;return O(g,["class","modal","open"])}),c=te(i,r),d=M(null);function m(l){var v;l.target===((v=d.value)==null?void 0:v.$el)&&(n.open?r("opened"):r("closed"))}return t({getContentRef:()=>d.value}),(l,v)=>(p(),f(a(pe),null,{default:u(()=>[y(fe,{name:"fade",appear:""},{default:u(()=>[l.open&&l.modal?(p(),f(Me,{key:0,style:we(P(h({},l.zIndex?{zIndex:l.zIndex}:{}),{position:"fixed",backdropFilter:l.overlayBlur&&l.overlayBlur>0?`blur(${l.overlayBlur}px)`:"none"})),onClick:v[0]||(v[0]=()=>r("close"))},null,8,["style"])):$("",!0)]),_:1}),y(a(me),K({ref_key:"contentRef",ref:d,style:P(h({},l.zIndex?{zIndex:l.zIndex}:{}),{position:"fixed"}),onAnimationend:m},a(c),{class:a(x)("z-popup bg-background p-6 shadow-lg outline-none sm:rounded-xl","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95",{"data-[state=open]:slide-in-from-top-[48%] data-[state=closed]:slide-out-to-top-[48%]":!l.centered,"data-[state=open]:slide-in-from-top-[98%] data-[state=closed]:slide-out-to-top-[148%]":l.centered,"top-[10vh]":!l.centered,"top-1/2 -translate-y-1/2":l.centered},n.class)}),{default:u(()=>[k(l.$slots,"default")]),_:3},16,["style","class"])]),_:3}))}}),Te=b({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=S(()=>{const c=t,{class:r}=c;return O(c,["class"])}),n=oe(o);return(r,i)=>(p(),f(a(ve),K(a(n),{class:a(x)("text-muted-foreground text-sm",t.class)}),{default:u(()=>[k(r.$slots,"default")]),_:3},16,["class"]))}}),Ve=b({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const t=e,o=S(()=>{const c=t,{class:r}=c;return O(c,["class"])}),n=oe(o);return(r,i)=>(p(),f(a(ye),K(a(n),{class:a(x)("text-lg font-semibold leading-none tracking-tight",t.class)}),{default:u(()=>[k(r.$slots,"default")]),_:3},16,["class"]))}}),[We,Re]=be("VbenAlertContext"),je={class:"flex items-center"},Ee={class:"flex-auto"},Ne={class:"m-4 min-h-[30px]"},Fe=b({__name:"alert",props:Q({beforeClose:{},bordered:{type:Boolean,default:!0},buttonAlign:{default:"end"},cancelText:{},centered:{type:Boolean,default:!0},confirmText:{},containerClass:{},content:{},contentClass:{},contentMasking:{type:Boolean},footer:{},icon:{},overlayBlur:{},showCancel:{type:Boolean},title:{}},{open:{type:Boolean,default:!1},openModifiers:{}}),emits:Q(["closed","confirm","opened"],["update:open"]),setup(e,{emit:t}){const o=e,n=t,r=$e(e,"open"),{$t:i}=ae(),c=ge.getComponents(),d=M(!1);function m(){n("closed",d.value),d.value=!1}function l(){d.value=!1}const v=S(()=>{var _;let s=null;if(o.icon){if(typeof o.icon=="string")switch(o.icon){case"error":{s=A(he,{style:{color:"hsl(var(--destructive))"}});break}case"info":{s=A(De,{style:{color:"hsl(var(--info))"}});break}case"question":{s=_e;break}case"success":{s=A(xe,{style:{color:"hsl(var(--success))"}});break}case"warning":{s=A(Ce,{style:{color:"hsl(var(--warning))"}});break}default:{s=null;break}}}else s=(_=o.icon)!=null?_:null;return s});function B(){T(),V(!1)}function z(){g(),V(!1)}Re({doCancel:B,doConfirm:z});function g(){d.value=!0,n("confirm")}function T(){d.value=!1}const C=M(!1);function V(s){return J(this,null,function*(){if(yield Ae(),!s&&o.beforeClose){C.value=!0;try{(yield o.beforeClose({isConfirm:d.value}))!==!1&&(r.value=!1)}finally{C.value=!1}}else r.value=s})}return(s,_)=>(p(),f(a(Pe),{open:r.value,"onUpdate:open":V},{default:u(()=>[y(a(Se),{open:r.value,centered:s.centered,"overlay-blur":s.overlayBlur,onOpened:_[0]||(_[0]=qe=>n("opened")),onClosed:m,onEscapeKeyDown:l,class:j(a(x)(s.containerClass,"left-0 right-0 mx-auto flex max-h-[80%] flex-col p-0 duration-300 sm:w-[520px] sm:max-w-[80%] sm:rounded-[var(--radius)]",{"border-border border":s.bordered,"shadow-3xl":!s.bordered}))},{default:u(()=>[w("div",{class:j(a(x)("relative flex-1 overflow-y-auto p-3",s.contentClass))},[s.title?(p(),f(a(Ve),{key:0},{default:u(()=>[w("div",je,[(p(),f(E(v.value),{class:"mr-2"})),w("span",Ee,N(a(i)(s.title)),1),s.showCancel?(p(),f(a(Z),{key:0,"as-child":""},{default:u(()=>[y(a(R),{variant:"ghost",size:"icon",class:"rounded-full",disabled:C.value,onClick:T},{default:u(()=>[y(a(ze),{class:"text-muted-foreground size-4"})]),_:1},8,["disabled"])]),_:1})):$("",!0)])]),_:1})):$("",!0),y(a(Te),null,{default:u(()=>[w("div",Ne,[y(a(W),{content:s.content,"render-br":""},null,8,["content"])]),C.value&&s.contentMasking?(p(),f(a(ke),{key:0,spinning:C.value},null,8,["spinning"])):$("",!0)]),_:1}),w("div",{class:j(["flex items-center justify-end gap-x-2",`justify-${s.buttonAlign}`])},[y(a(W),{content:s.footer},null,8,["content"]),s.showCancel?(p(),f(a(Z),{key:0,"as-child":""},{default:u(()=>[(p(),f(E(a(c).DefaultButton||a(R)),{disabled:C.value,variant:"ghost",onClick:T},{default:u(()=>[Y(N(s.cancelText||a(i)("cancel")),1)]),_:1},8,["disabled"]))]),_:1})):$("",!0),y(a(Oe),{"as-child":""},{default:u(()=>[(p(),f(E(a(c).PrimaryButton||a(R)),{loading:C.value,onClick:g},{default:u(()=>[Y(N(s.confirmText||a(i)("confirm")),1)]),_:1},8,["loading"]))]),_:1})],2)],2)]),_:1},8,["open","centered","overlay-blur","class"])]),_:1},8,["open"]))}}),F=M([]),{$t:Le}=ae();function ee(e,t,o){return new Promise((n,r)=>{var v,B;const i=I(e)?{content:e}:h({},e);t&&(I(t)?i.title=t:I(t)||Object.assign(i,t));const c=document.createElement("div");document.body.append(c);const d={container:c,instance:null},m=P(h({onClosed:z=>{F.value=F.value.filter(g=>g!==d),G(null,c),c.parentNode&&c.remove(),z?n():r(new Error("dialog cancelled"))}},i),{open:!0,title:(v=i.title)!=null?v:Le.value("prompt")}),l=A(Fe,m);G(l,c),d.instance=(B=l.component)==null?void 0:B.proxy,F.value.push(d)})}function Ge(e,t,o){const n={showCancel:!0};return I(e)?ee(e,n):ee(h(h({},n),e))}export{Ge as a,ee as v};
